<project name="ComplexAmplitudePSK">
  <property environment="env"/>
  <property name="base.dir" value="." />
  <property name="sources.dir" value="${base.dir}" />
  <property name="build.dir" value="${base.dir}/build" />
  <property name="scala.home" value="${env.SCALA_HOME}" />

  <target name="init">
    <property
	name="scala-library.jar"
	value="${scala.home}/lib/scala-library.jar"
	/>
    <path id="build.classpath">
      <pathelement location="${scala-library.jar}"   />
      <pathelement location="${base.dir}/../lib/PubSim.jar"   />
      <pathelement location="${base.dir}/../lib/colt.jar"   />
      <pathelement location="${base.dir}/../lib/flanagan.jar"   />
      <pathelement location="${base.dir}/../lib/JGraphT.jar"   />
      <pathelement location="${base.dir}/../lib/RngPack.jar"   />
      <pathelement location="${base.dir}/../lib/Jama-1.0.2.jar"   />
      <pathelement location="${base.dir}/../lib/ScalaNumbers.jar"   />
      <pathelement location="${build.dir}"   />
    </path>
    <taskdef resource="scala/tools/ant/antlib.xml">
      <classpath>
	<pathelement location="${scala.home}/lib/scala-compiler.jar"   />
	<pathelement location="${scala-library.jar}"   />
      </classpath>
    </taskdef>
  </target>

  <target name="build" depends="init">
    <mkdir dir="${build.dir}" />
    <scalac srcdir="${sources.dir}"
            destdir="${build.dir}"
            classpathref="build.classpath">
      <include name="src/**/*.scala"   />
    </scalac>
  </target>

</project>